---
import BaseHead from '../components/BaseHead.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import { SITE_TITLE } from '../consts';
import { getCollection } from 'astro:content';

const posts = (await getCollection('blog')).sort(
	(a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf(),
);
---

<!doctype html>
<html lang="en">
	<head>
		<BaseHead title={`Sitemap | ${SITE_TITLE}`} description="Complete sitemap of Subzero HVAC website including all pages, services, and blog posts." />
	</head>
	<body>
		<Header />
		<main class="sitemap-page">
			<section class="sitemap-hero">
				<div class="container">
					<h1>Sitemap</h1>
					<p class="lead">Navigate through all pages and content on our website</p>
				</div>
			</section>

			<section class="sitemap-content">
				<div class="container">
					<div class="sitemap-grid">
						<!-- Main Pages -->
						<div class="sitemap-section">
							<h2>Main Pages</h2>
							<ul class="link-list">
								<li>
									<a href="/">
										<span class="link-icon">üè†</span>
										<span class="link-text">
											<strong>Home</strong>
											<small>Welcome to Subzero HVAC</small>
										</span>
									</a>
								</li>
								<li>
									<a href="/services">
										<span class="link-icon">üîß</span>
										<span class="link-text">
											<strong>Services</strong>
											<small>Our HVAC solutions</small>
										</span>
									</a>
								</li>
								<li>
									<a href="/about">
										<span class="link-icon">üë•</span>
										<span class="link-text">
											<strong>About Us</strong>
											<small>Our story and values</small>
										</span>
									</a>
								</li>
								<li>
									<a href="/blog">
										<span class="link-icon">üìù</span>
										<span class="link-text">
											<strong>Blog</strong>
											<small>News and articles</small>
										</span>
									</a>
								</li>
								<li>
									<a href="/sitemap">
										<span class="link-icon">üó∫Ô∏è</span>
										<span class="link-text">
											<strong>Sitemap</strong>
											<small>This page</small>
										</span>
									</a>
								</li>
							</ul>
						</div>

						<!-- Services -->
						<div class="sitemap-section">
							<h2>Services</h2>
							<ul class="link-list">
								<li>
									<a href="/services#cooling">
										<span class="link-icon">‚ùÑÔ∏è</span>
										<span class="link-text">
											<strong>Cooling Solutions</strong>
											<small>Air conditioning services</small>
										</span>
									</a>
								</li>
								<li>
									<a href="/services#heating">
										<span class="link-icon">üî•</span>
										<span class="link-text">
											<strong>Heating Systems</strong>
											<small>Furnaces and heat pumps</small>
										</span>
									</a>
								</li>
								<li>
									<a href="/services#air-quality">
										<span class="link-icon">üí®</span>
										<span class="link-text">
											<strong>Indoor Air Quality</strong>
											<small>Air purification and filtration</small>
										</span>
									</a>
								</li>
								<li>
									<a href="/services#commercial">
										<span class="link-icon">üè¢</span>
										<span class="link-text">
											<strong>Commercial HVAC</strong>
											<small>Business HVAC solutions</small>
										</span>
									</a>
								</li>
							</ul>
						</div>

						<!-- Contact & Information -->
						<div class="sitemap-section">
							<h2>Contact & Info</h2>
							<ul class="link-list">
								<li>
									<a href="/#contact">
										<span class="link-icon">üìß</span>
										<span class="link-text">
											<strong>Contact Form</strong>
											<small>Get in touch with us</small>
										</span>
									</a>
								</li>
								<li>
									<a href="mailto:contact@subzerohvac.net">
										<span class="link-icon">‚úâÔ∏è</span>
										<span class="link-text">
											<strong>Email Us</strong>
											<small>contact@subzerohvac.net</small>
										</span>
									</a>
								</li>
								<li>
									<a href="/rss.xml">
										<span class="link-icon">üì°</span>
										<span class="link-text">
											<strong>RSS Feed</strong>
											<small>Subscribe to our blog</small>
										</span>
									</a>
								</li>
							</ul>
						</div>

						<!-- Blog Posts -->
						{posts.length > 0 && (
							<div class="sitemap-section full-width">
								<h2>Blog Posts</h2>
								<ul class="link-list blog-list">
									{posts.map((post) => (
										<li>
											<a href={`/blog/${post.id}/`}>
												<span class="link-icon">üìÑ</span>
												<span class="link-text">
													<strong>{post.data.title}</strong>
													<small>{post.data.description || 'Read more'}</small>
												</span>
											</a>
										</li>
									))}
								</ul>
							</div>
						)}
					</div>
				</div>
			</section>
		</main>
		<Footer />
	</body>
</html>

<style>
	* {
		box-sizing: border-box;
	}

	.sitemap-page {
		padding: 0;
		overflow-x: hidden;
	}

	.container {
		max-width: 1400px;
		margin: 0 auto;
		padding: 0 3rem;
		width: 100%;
		box-sizing: border-box;
	}

	/* Hero Section */
	.sitemap-hero {
		background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%);
		color: white;
		padding: 5rem 2rem 4rem;
		text-align: center;
	}

	.sitemap-hero h1 {
		font-size: 3rem;
		margin-bottom: 1rem;
		color: white;
		font-weight: 600;
	}

	.lead {
		font-size: 1.3rem;
		opacity: 0.95;
		font-weight: 400;
		margin: 0;
	}

	/* Content Section */
	.sitemap-content {
		padding: 5rem 0;
		background: #f8fafc;
	}

	.sitemap-grid {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
		gap: 3rem;
		align-items: start;
	}

	.sitemap-section {
		background: white;
		padding: 2.5rem;
		border-radius: 16px;
		box-shadow: 0 1px 3px rgba(0,0,0,0.05);
		transition: box-shadow 0.3s ease;
	}

	.sitemap-section:hover {
		box-shadow: 0 10px 30px rgba(0,0,0,0.1);
	}

	.sitemap-section.full-width {
		grid-column: 1 / -1;
	}

	.sitemap-section h2 {
		font-size: 1.75rem;
		font-weight: 600;
		margin: 0 0 1.5rem 0;
		color: #0f172a;
		padding-bottom: 1rem;
		border-bottom: 2px solid #e2e8f0;
	}

	.link-list {
		list-style: none;
		padding: 0;
		margin: 0;
	}

	.link-list li {
		margin-bottom: 0;
	}

	.link-list a {
		display: flex;
		align-items: flex-start;
		gap: 1rem;
		padding: 1rem;
		border-radius: 8px;
		text-decoration: none;
		transition: all 0.2s ease;
		border-left: 3px solid transparent;
	}

	.link-list a:hover {
		background: #f1f5f9;
		border-left-color: #1e3a8a;
		transform: translateX(5px);
	}

	.link-icon {
		font-size: 1.5rem;
		flex-shrink: 0;
		line-height: 1;
	}

	.link-text {
		display: flex;
		flex-direction: column;
		gap: 0.25rem;
	}

	.link-text strong {
		font-size: 1.125rem;
		font-weight: 600;
		color: #0f172a;
		line-height: 1.3;
	}

	.link-text small {
		font-size: 0.875rem;
		color: #64748b;
		line-height: 1.4;
	}

	.link-list a:hover .link-text strong {
		color: #1e3a8a;
	}

	/* Blog List Special Styling */
	.blog-list {
		display: grid;
		grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
		gap: 0;
	}

	/* Responsive Design */
	@media (max-width: 768px) {
		.sitemap-hero {
			padding: 4rem 1.5rem 3rem;
		}

		.sitemap-hero h1 {
			font-size: 2.2rem;
		}

		.lead {
			font-size: 1.1rem;
		}

		.container {
			padding: 0 1.5rem;
		}

		.sitemap-content {
			padding: 3rem 0;
		}

		.sitemap-grid {
			grid-template-columns: 1fr;
			gap: 2rem;
		}

		.sitemap-section {
			padding: 2rem 1.5rem;
		}

		.sitemap-section h2 {
			font-size: 1.5rem;
		}

		.blog-list {
			grid-template-columns: 1fr;
		}

		.link-list a {
			padding: 0.875rem;
		}

		.link-icon {
			font-size: 1.25rem;
		}

		.link-text strong {
			font-size: 1rem;
		}

		.link-text small {
			font-size: 0.8125rem;
		}
	}

	@media (max-width: 480px) {
		.link-list a:hover {
			transform: translateX(2px);
		}
	}
</style>
